<h1>Admin Dashboard</h1>
<h2>Users (<%= @user_count %>)</h2>
<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Created at</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <th><%= user.id %></th>
        <td><%= user.first_name %></td>
        <td><%= user.last_name %></td>
        <td><%= user.created_at %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<h2>Booking Overview</h2>
<div class="row row-cols-1 row-cols-md-3 g-2">
  <div class="col">
    <div class="card">
      <div class="card-body">
        <p class="h3"><%= @served_bookings %></p>
        <p>served</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card">
      <div class="card-body">
        <p class="h3"><%= @cancelled_bookings %></p>
        <p>cancelled</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card">
      <div class="card-body">
        <p class="h3"><%= @pending_bookings %></p>
        <p>pending</p>
      </div>
    </div>
  </div>
</div>
<br>
<h2>Most booked services</h2>
<div class="mt-4 d-flex flex-column gap-4">
  <% @most_booked_services.each do |stat| %>
    <%= render 'admin/services/service', service: stat[:service] do %>
      <p class="mt-2">Count: <%= stat[:count] %></p>
    <% end %>
  <% end %>
</div>
